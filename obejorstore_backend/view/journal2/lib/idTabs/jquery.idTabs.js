/*! idTabs v3.0 ~ Sean Catchpole - Copyright 2010 MIT/GPL */
;(function(e){var t,n,r=function(t){return e(t).attr("href")},i=function(e){return e===null&&"Null"||e===n&&"Undefined"||{}.toString.call(e).slice(8,-1)};e.fn.idTabs=function(){var e=t.args.apply(this,arguments),n=e.update&&"update"||e.remove&&"remove"||"bind";e.area=this;t[n](e);return this};t=e.idTabs=function(s,o,u){var a,f,l,c=e(),h=e.metadata?e(s).metadata():{},p={tab:t.tab,item:t.item};p=e.extend(p,t.settings,h,o||{});p.tabarea=e(s);p.data=u||"idTabs"+ +(new Date);e.each({selected:".",event:"!",start:"#"},function(e,t){if(i(p[e])=="String"&&p[e].indexOf(t)==0)p[e]=p[e].substr(1)});if(p.start===null)p.start=-1;l=[];p.tabs=f=e("a[href^=#]",s);f.each(function(){c=p.item(r(this));if(c.length)l=l.concat(c.get())});p.items=e(l).hide();a="idTabs."+p.event;u=p.tabarea.data("idTabs")||{};u[a]=p;p.tabarea.data("idTabs",u);f.trigger(a).data(p.data,p).bind(a,{s:p},function(){return t.unbind.apply(this,arguments)}).bind(p.event,{s:p},t.find);i(p.start)=="Number"&&(p.start<0||(c=f.eq(p.start)).length)||i(p.start)=="String"&&(c=f.filter("a[href=#"+p.start+"]")).length||(c=f.filter("."+p.selected).removeClass(p.selected)).length||p.start===n&&(c=f.eq(0)).length;if(c.length)c.trigger(p.event);return p};t.args=function(){var t,n=0,r={},s=arguments,o=function(e,t){if(t.indexOf(".")==0)r.selected=t;else if(t.indexOf("!")==0)if(/^!(true|false)$/i.test(t))r.toggle=/^!true$/i.test(t);else r.event=t;else if(t.indexOf(":")==0){t=t.substr(1).toLowerCase();if(t.indexOf("!")==0)r[t.substr(1)]=false;else r[t]=true}else if(t)r.start=t};while(n<s.length){t=s[n++];switch(i(t)){case"Object":e.extend(r,t);break;case"Boolean":r.change=t;break;case"Number":r.start=t;break;case"Function":r.click=t;break;case"Null":r.start=t;break;case"String":e.each(t.split(/\s+/g),o);default:break}}return r};t.bind=function(t){if(!t)return;var n="idTabs"+ +(new Date);if(t.grouped)e.idTabs(t.area,t,n);else t.area.each(function(){e.idTabs(this,t,n)})};t.update=function(n){if(!n)return;n.update=false;var r,i,s,o=n.event;o=(o+"").indexOf("!")==0&&o.substr(1)||o;o=o?"idTabs."+o:"";return n.area.each(function(){r=e(this);i=r.data("idTabs");if(!i)return;if(o){s=e.extend({},i[o],n);t.remove(i[o]);t(s.tabarea,s,s.data)}else for(o in i){if(!Object.hasOwnProperty.call(i,o))continue;s=e.extend({},i[o],n);t.remove(i[o]);t(s.tabarea,s,s.data)}})};t.remove=function(t){if(!t)return;var n,r,i=t.event;i=(i+"").indexOf("!")==0&&i.substr(1)||i;i="idTabs"+(i?"."+i:"");return t.area.each(function(){n=e(this).data("idTabs");delete n["idTabs."+t.event];e(this).data("idTabs",n);r=t.tabs||e("a[href^=#]",this);if(!r.length&&e(this).is("a[href^=#]"))r=e(this);r.trigger(i)})};t.find=function(n){var i=this,s=false,o=n.data.s;e("a[href="+r(this)+"]:first",o.area).each(function(){var r=e(this).data(o.data);if(r)s=t.showtab.call(r.tabarea==o.tabarea?i:this,r,n)||s});return s};t.showtab=function(n,i){if(!n||!n.toggle&&e(this).is("."+n.selected))return n&&n.change;var s=r(this);if(n.click&&n.click.call(this,s,n,i)==false)return n.change;if(n.toggle&&e(this).is("."+n.selected))s=null;return t.show.call(this,s,n,i)};t.show=function(e,t){t.tabs.removeClass(t.selected);t.tab(e).addClass(t.selected);t.items.hide();t.item(e).show();return t.change};t.unbind=function(t){var n=t.data.s;e(this).removeData(n.data).unbind("idTabs."+n.event);return false};t.extend=function(){var e=arguments;return function(){[].push.apply(e,arguments);this.idTabs.apply(this,e)}};t.tab=function(t){if(!t)return e([]);return e("a[href="+t+"]",this.tabarea)};t.item=function(t){if(!t)return e([]);var n=e(t);return n.length?n:e("."+t.substr(1))};t.settings={start:n,change:false,click:null,selected:".selected",event:"!click",toggle:false,grouped:false};t.version="3.0"})(jQuery)